<center><img src="logos/logos.png" width="700" /></center>

<br>
<br>

# Exercises

# **Session 1**: Operators and basic operations

> 1- In a Value for Cultivation and Use (VCU) experiment in corn, the plots consist of two four-meter rows, spaced 0.60 m apart, totaling 6 plants per row. The plant heights were respectively (in meters): 1.45; 1.73; 1.98; 2.10; 2.03; 1.65; 2.15; 1.63; 1.53; 1.98; 2.05; 1.52.

> a) Create a height vector with the above values

> b) Calculate the average height

> c) Calculate the variance of heights

```{r echo=FALSE, eval=FALSE}
ex1_vec <- c(1.45, 1.73, 1.98, 2.10, 2.03, 1.65, 2.15, 1.63, 1.53, 1.98, 2.05, 1.52)
(med_vec <- mean(ex1_vec))
(var_vec <- var(ex1_vec))
```

**Answers**:

**To view the answer, just hover over the "Spoiler alert!"**

b)[1.816667]{.spoiler}

c)[0.06540606]{.spoiler}

> 2- In the Genetics course, height and weight of 10 students were evaluated, 5 girls and 5 boys. See the table below with the respective values:

| Name       | Weight (kg) | Height (m) |
|------------|-----------|------------|
| Maria José | 72        | 1.65       |
| Mariana    | 57        | 1.68       |
| Fernanda   | 49        | 1.53       |
| Jéssica    | 62        | 1.70       |
| Carolina   | 57        | 1.52       |
| Paulo      | 90        | 1.82       |
| Marcos     | 53        | 1.63       |
| João Paulo | 76        | 1.78       |
| Geraldo    | 63        | 1.72       |
| Pedro      | 92        | 1.98       |

> a) Calculate the BMI of each student, using the formula: $BMI = \frac{weight}{height^2}$

> b) Calculate the average BMI of the class

> c) Calculate the BMI variance

> d) Calculate the BMI standard deviation

```{r echo=FALSE, eval=FALSE}
peso <- c(72,57,49,62,57,90,53,76,63,92)
altura <- c(1.65,1.68,1.53,1.7,1.52,1.82,1.63,1.78,1.72,1.98)

print("a")
(IMC <- peso/altura^2)

print("b")
(md_IMC <- mean(IMC))

print("c")
(var_IMC <- var(IMC))

print("d")
(sd_IMC <- sd(IMC))
```

**Answers**:

a)[26.44628 20.19558 20.93212 21.45329 24.67105 27.17063 19.94806 23.98687 21.29529 23.46699]{.spoiler}

b)[22.95662]{.spoiler}

c)[6.665578]{.spoiler}

d)[2.581778]{.spoiler}

> 3 - Solve the equation: $2x^2 + 8x + 6 = 0$, using the quadratic formula. Remember that:
$x = \frac{-b\pm\sqrt{\Delta}}{2a}$; $\Delta=b^2 - 4ac$

```{r echo=FALSE, eval=FALSE}
x1 <- (-8 - sqrt(8^2 - 4*2*6))/(2*2)
x2 <- (-8 + sqrt(8^2 - 4*2*6))/(2*2)

(x3 <- c(round(x1),round(x2)))
```

**Answers**:

[-3  -1]{.spoiler}


# **Session 2**: Object Classes

> 1 - Load the dataset called "mtcars" (attach(mtcars)).

> a) Check the class of the "mtcars" object

> b) Check the class of columns "hp" and "cyl"

> c) Check the class of car names (rownames)

```{r echo = FALSE, eval=FALSE}
attach(mtcars)

print("a")
(cl_mt <- class(mtcars))

print("b")
(cl_cyl_hp <- c(class(mtcars$cyl),class(mtcars$hp)))

print("c")
(cl_rnames <- class(rownames(mtcars)))
```

**Answers**:

a)["data.frame""]{.spoiler}

b)["numeric" "numeric"]{.spoiler}

c)["character"]{.spoiler}

> 2 - Using the same dataset from the previous exercise, calculate:

> a) The mean of the "hp" column

> b) Modify the class of the "hp" column to factor and calculate the mean again

> c) Compare the results obtained in letters a and b, and describe the differences between them


```{r echo = FALSE, eval=FALSE}
print("a")
(hp_mean <- mean(mtcars$hp))
print("b")
(hp_mean_fc <- mean(as.factor(mtcars$hp)))
```

**Answers**:

a)[146.6875]{.spoiler}

b)[NA e um warning]{.spoiler}

> 3 - Create a vector from a Normal distribution sample with length 3000, mean 20, and standard deviation 5. Before creating the vector, use set.seed(123456).

> a) What is the sum of observations in the vector that are greater than 30?

> b) And what is the sum of observations less than the mean? **NOTE: Calculate the mean of the set of values you just generated.**

> c) Remove the smallest observation from the vector.

```{r echo = FALSE, eval=FALSE}
set.seed(123456)
rn_val <- rnorm(n=3000, mean = 20, sd = 5)

print("a")
(rn_soma <- sum(rn_val[rn_val>30]))

print("b")
(rn_soma_sel <- sum(rn_val[rn_val<mean(rn_val)]))

print("c - apenas o 'head' ")
head((rn_rem_min <- rn_val[rn_val > min(rn_val)]))
print("c - valor mínimo:")
(min(rn_val))

```

**Answers**:

a)[2610.638]{.spoiler}

b)[23976.86]{.spoiler}

c)[only the "head": 24.16867 18.61976 18.22499 20.43744 31.26128 24.17230]{.spoiler}

c)[Minimum value: 1.170791]{.spoiler}

> 4 - In some experimental soybean areas, the presence of some nematodes was identified.

|Area | Nematode | Area yield (kg/ha)
|--------|-----------|------------|--------------
|A1      | *Meloidogyne incognita* | 2700
|A2      | *Meloidogyne incognita* | 2500
|A3      | *Heterodera glycines* | 2000
|A4      | NA | 3200
|A5      | *Pratylenchus brachyurus* | 2900
|A6      | NA | 3500
|A7      | *Meloidogyne javanica* | 2300
|A8      | NA | 3800

> a) Create a data frame with the information from the table above

> b) Create a column containing the municipality where each area is located (Piracicaba-SP, Rio Verde-GO, Londrina-PR, Barreiras-BA, Uberaba-MG, Rondonopolis-MT, Vilhena-RO, Gurupi-TO)

> c) What types of nematodes affect the evaluated areas?

> d) Which nematode had the highest impact on yield? And the lowest impact?

> e) Is the average yield of areas affected by *Meloidogyne incognita* higher than the average of areas affected by all other nematodes?


```{r echo = FALSE, eval=FALSE}

print("a")
area = c(paste0("A", rep(1:8)))
df = data.frame(c("Meloidogyne incognita", "Meloidogyne incognita", "Heterodera glycines", "NA", "Pratylenchus brachyurus", "NA", "Meloidogyne javanica", "NA"),
                c(2700, 2500, 2000, 3200, 2900, 3500, 2300, 3800), row.names = area)
colnames(df) = c("Nematode", "Produtividade (kg/ha)")
df                  

print("b")
Municipio = c("Piracicaba-SP", "Rio Verde-GO", "Londrina-PR", "Barreiras-BA", "Uberaba-MG", "Rondonopólis-MT", "Vilhena-RO", "Gurupi-TO")
df = cbind(df, Municipio)
df

print("c")
levels(df$Nematode)

print("d")
df[order(df$`Produtividade (kg/ha)`),1]

print("e") 
med_m_incog = mean(df[df$Nematode == "Meloidogyne incognita",2])
med_m_outros = mean(df[df$Nematode != "Meloidogyne incognita" & df$Nematode != "NA",2])
med_m_incog > med_m_outros
```

**Answers**:

c)["Heterodera glycines", "Meloidogyne incognita", "Meloidogyne javanica", Pratylenchus brachyurus"]{.spoiler}

d)[Highest impact: Heterodera glycines  
   Lowest impact: Pratylenchus brachyurus]{.spoiler}
   
e)[Yes. The average yield of areas with *M. incognita* (2.6 kg/ha) is higher than the average of areas affected by others (2.4 kg/ha)]{.spoiler}


# **Session 3**: Conditional and Loop Structures

1 - Time for fun! We hope you enjoyed learning about conditional structures. We didn't ask in the questionnaires about something that will be important here. Do you watch BBB (Big Brother Brazil)? Have you ever noticed that the [theme song](https://www.vagalume.com.br/bbb/vida-real-paulo-ricardo.html) of the *show* is basically a lesson in conditionals (besides being catchy, of course)? The idea is to input a verse that contains **if** and receive the next verse. If the verse doesn't exist in the song or isn't one of the conditional cases, display the message "This verse doesn't exist in the song". **Tip:** To make it easier, use all phrases in lowercase letters without accents.


```{r echo=FALSE, eval=FALSE}
if(verse=="if you could tell me"){
  "if you knew what to do"
} else if(verse == "if you knew what to do"){
  "what would you do"
} else if(verse == "if you knew who you are"){
  "how far your faith goes"
} else if(verse == "if you could choose"){
  "between good and evil"
} else if (verse == "if wanting is power"){
  "you have to go all the way"
} else if (verse == "if you want to win..."){
  " "
} else if (verse == "if I could I would take you"){
  "to where you want to go"
} else if(verse == "if you know how to play with fire"){
  "there's nothing more beautiful"
} else {
  "this verse doesn't exist in the song"
}
```

2 - Create an object "a" containing a sequence from 1 to 5. Using any loop structure, add the number 8 to each element of "a", until the sum of all elements is equal to or greater than 10000.

```{r echo=FALSE, eval=FALSE}
a = seq(1,5,1)
while(sum(a) < 10000){
  a = a + 8
}

(a)
```

**Answers**:

[2001 2002 2003 2004 2005]{.spoiler}


3 - Repeat the phrase "x sad tiger(s) ate x plates of wheat", where x is an integer of your choice.

```{r echo=FALSE, eval=FALSE}
# Number of tigers/plates
number <- 3

# Repetition structure
for(num in 1:number){
  if(num == 1){
    print(paste(num, "sad tiger ate", num, "plate of wheat."))
  } else {
    print(paste(num, "sad tigers ate", num, "plates of wheat."))
  }
}
```

**Answers**:

If the chosen value was one:
[1 sad tiger ate 1 plate of wheat.]{.spoiler}

If the chosen value was two:
[1 sad tiger ate 1 plate of wheat. 2 sad tigers ate 2 plates of wheat.]{.spoiler}


4 - **Time to relax!** Create a loop to repeat a pattern from the famous Beatles song finale.

```{r, echo=FALSE, eval = FALSE}
times <- 10

for(repeat_count in 1:times){
  print("Na, na, na, na-na-na na")
  print("Na-na-na na, hey Jude") 
}
```

5 - How about a popular children's song? The exercise will now be with this [song](https://www.youtube.com/watch?v=C7pupFaI80A) that almost everyone should know! You will do the following:

* 1 - Define the number of ducklings
* 2 - Print the number of ducklings and the phrase "little ducks went out to play"
* 3 - Add the following lines:
    * Over the mountain
    * To play
    * Mother duck called
    * *Repeat the number of quacks* (**This differs from the song, but it's more fun**)
* 4 - Decrease one duckling from the group, if the group is less than one
* 5 - Print the verses
    * But only **number of ducklings - 1** little ducks
    * Came back
* 6 - Print empty line
* 7 - Return to step 2 if there's more than 1 duckling
* 8 - If one duckling remains, add the last verse:

    "1 little duck went out to play

    Over the mountain

    To play

    Mother duck called

    Quack

    But no little ducks

    Came back"

* 9 - It's up to you to add the final verse, but make it fun!

```{r, eval=FALSE}
ducklings = 3
ducklings_aux = ducklings

while(ducklings != 0){
  if(ducklings > 1){
    # Print first verse using number of ducks
     print(paste(ducklings, " little ducks went out to play", sep = " "))
    
    # Print the next three verses
     print("Over the mountain")
     print("To play")
     print("Mother duck called")
     
    # Repeat the number of Quacks
     print(paste(rep("Quack", ducklings, sep=" ")))
     
    # Reduce the number of ducklings by 1
     ducklings = ducklings -1
     
     if(ducklings > 1){
       # Second to last verse of the stanza
       print(paste("But only", ducklings, "little ducks", sep = " "))
       # Last verse
       print("Came back")
       print(" ")
     } else {
       # Second to last verse of the stanza
       print(paste("But only", ducklings, "little duck", sep = " "))
       # Last verse
       print("Came back")
       print(" ")
     }
  } else {
    # Print the final verses
    print("1 little duck went out to play")
    print("Over the mountain")
    print("To play")
    print("Mother duck called")
    print("Quack")
    print("But no little ducks")
    print("Came back")
    print(" ")
    ducklings = ducklings - 1
    print("Mother duck")
    print("Went to look")
    print("Over the mountain")
    print("By the shore")
    print("Mother duck called")
    print(paste(rep("Quack", ducklings_aux), sep=" "))
    print(paste("And all", ducklings_aux, "little ducks", sep=" "))
    print("Came back")
  }
}
```

6 - Use the expression below to generate productivity means, considering 50 soybean genotypes, randomly:

```{r, eval = FALSE}
set.seed(123456)
productivity = rnorm(50, mean = 3500.00, sd = 800)
```

Let's assume that the national average soybean productivity is 3500.00 kg/ha. Using conditional structures, check if the genotypes show values above or below the national average productivity, returning the phrases "above average" or "below average", respectively.

```{r echo=FALSE, eval=FALSE}
set.seed(123456)
productivity = rnorm(50, mean = 3500.00, sd = 800)
result = c()
for(i in 1:length(productivity)){
  if (productivity[i] > 3500.00){
    result[i] <- ("above average")
  } else {result[i] <- ("below average")}
}

(result)
```

**Answers**:

[[1] "above average"  "below average" "below average" "above average"  "above average"  "above average" 
 [7] "above average"  "above average"  "above average"  "below average" "below average" "below average"
[13] "below average" "above average"  "above average"  "above average"  "below average" "above average" 
[19] "above average"  "above average"  "below average" "above average"  "above average"  "above average" 
[25] "above average"  "below average" "above average"  "above average"  "above average"  "below average"
[31] "below average" "above average"  "below average" "below average" "below average" "below average"
[37] "above average"  "above average"  "above average"  "below average" "below average" "above average" 
[43] "above average"  "below average" "above average"  "below average" "below average" "below average"
[49] "above average"  "below average"]{.spoiler}

# **Session 4**: Functions

Use the dataset available below to generate productivity means, considering 25 soybean genotypes evaluated in 15 environments, randomly:

```{r, eval=FALSE}
set.seed(123456)
data = data.frame(Genotypes = rep(seq(1,25,1), 15), Environments = rep(x = seq(1:15), each = 25), yield = rnorm(375, 3000:3500, 800))
```

Create a function to calculate the means and coefficient of variation ($CV = \frac{\mu}{\sigma}*100$) in each environment, and also evaluate the experimental precision (up to 20% = high; between 20 and 30% = medium; above 30% = low). The function should return the results containing the identification of each environment, the means, CVs, and precisions.

<span style="color:red">At this point in the course, you may have already dealt with various frustrations: the code doesn't run, it took several attempts to get it right. You might feel like you're falling into that learning progress graph we showed in the theoretical presentation. That's why we've included some motivational videos here. These are three excellent TED talks (as TEDs usually are).</span>

These two have subtitles in multiple languages. Just adjust the settings:

* [Teach girls bravery, not perfection | Reshma Saujani](https://www.youtube.com/watch?v=fC9da6eqaqg)
Special for women. Discusses how learning to code teaches us to better deal with our frustrations and diverts us from the imposed culture of perfection.

* [Mitch Resnick: Let's teach kids to code](https://www.youtube.com/watch?v=Ok6LbV6bqaE)
The speaker is one of the developers of Scratch, which is a game that teaches programming logic. The speaker emphasizes the importance of learning a programming language in today's world.

This one is in English only:

* [You Should Learn to Program: Christian Genco at TEDxSMU](https://www.youtube.com/watch?v=xfBWk4nw440)
Highlights the impacts of knowing how to program in daily life.

# **Extra**: The `apply` Family

1 - Use the function below to generate productivity means, considering 25 soybean genotypes evaluated in 15 environments, randomly:

```{r, eval=FALSE}
set.seed(123456)
data = data.frame(Genotypes = rep(seq(1,25,1), 15), Environments = rep(x = seq(1:15), each = 25), yield = rnorm(375, 3000:3500, 800))
```

Using functions from the "apply" family, obtain the general means of each genotype and also of each environment.
